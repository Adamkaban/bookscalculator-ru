# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "Canonicalised"

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SEOHead.astro
**–ü—Ä–æ–±–ª–µ–º–∞:** Canonical URL –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–ª—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ–º–µ–Ω–∞ (Vercel preview URL vs –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω)

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±—Ä–∞–Ω `Astro.site` –∏–∑ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è canonical URL
- –¢–µ–ø–µ—Ä—å canonical URL –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `https://bookscalculator.ru`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ —Å—Å—ã–ª–∫–∏ –≤ Schema.org —Ä–∞–∑–º–µ—Ç–∫–µ

```javascript
// –ë–´–õ–û:
const canonicalOrigin = Astro.site || 'https://bookscalculator.ru';

// –°–¢–ê–õ–û:
const canonicalOrigin = 'https://bookscalculator.ru';
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ trailingSlash –≤ astro.config.mjs
**–ü—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü —Å `/` –∏ –±–µ–∑ `/` –Ω–∞ –∫–æ–Ω—Ü–µ URL

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
trailingSlash: 'never'
```

–¢–µ–ø–µ—Ä—å –≤—Å–µ URL –±—É–¥—É—Ç –±–µ–∑ trailing slash:
- ‚úÖ `/skolko-chitat-groza-ostrovsky`
- ‚ùå `/skolko-chitat-groza-ostrovsky/`

### 3. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –≤ vercel.json
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å–æ –≤—Å–µ—Ö URL —Å trailing slash –Ω–∞ –≤–µ—Ä—Å–∏—é –±–µ–∑ –Ω–µ–≥–æ
- –î–æ–±–∞–≤–ª–µ–Ω header `X-Robots-Tag: index, follow`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω robots.txt
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ `Host: bookscalculator.ru`
- –£–∫–∞–∑–∞–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –¥–æ–º–µ–Ω –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### 1. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å–∞–π—Ç
```bash
cd bookscalculator-ru
npm run build
```

### 2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel
```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Vercel CLI:
vercel --prod

# –ò–ª–∏ —á–µ—Ä–µ–∑ Git push (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π)
git add .
git commit -m "Fix canonical URL issues"
git push origin main
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å canonical URL –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∞–π—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ HTML-–∫–æ–¥–µ:

```html
<link rel="canonical" href="https://bookscalculator.ru/skolko-chitat-..." />
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ Canonical URL –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://bookscalculator.ru`
- ‚úÖ –ù–µ—Ç trailing slash –≤ –∫–æ–Ω—Ü–µ URL
- ‚úÖ URL —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (—á–µ—Ä–µ–∑ 1-2 –¥–Ω—è):
1. –ó–∞–π–¥–∏—Ç–µ –≤ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ" ‚Üí "–°—Ç—Ä–∞–Ω–∏—Ü—ã"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å—á–µ–∑–ª–∞ –æ—Ç–º–µ—Ç–∫–∞ "Canonicalised"
4. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –≤–∞–∂–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Google Search Console

1. –ó–∞–π–¥–∏—Ç–µ –≤ Google Search Console
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ü–æ–∫—Ä—ã—Ç–∏–µ" –∏–ª–∏ "–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ"
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ canonical URL —É–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ canonical URL –≤—Ä—É—á–Ω—É—é

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ canonical URL
const canonical = document.querySelector('link[rel="canonical"]');
console.log('Canonical URL:', canonical?.href);
console.log('Current URL:', window.location.href);
console.log('Match:', canonical?.href === window.location.href);
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Canonical URL –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ `https://bookscalculator.ru/...`
- –ë–µ–∑ trailing slash
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–º—É URL

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:

1. **–Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä** (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)
   - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
   - –û—à–∏–±–∫–∏ canonical
   - –î—É–±–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü

2. **Google Search Console** (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)
   - Coverage issues
   - Duplicate canonical
   - Indexing status

3. **Sitemap** (–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–ª–æ—è)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `https://bookscalculator.ru/sitemap-index.xml`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ URL –±–µ–∑ trailing slash

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–ï –ú–ï–ù–Ø–ô–¢–ï** –æ–±—Ä–∞—Ç–Ω–æ `canonicalOrigin` –Ω–∞ `Astro.site`
2. **–ù–ï –£–î–ê–õ–Ø–ô–¢–ï** –Ω–∞—Å—Ç—Ä–æ–π–∫—É `trailingSlash: 'never'`
3. **–ù–ï –ò–ó–ú–ï–ù–Ø–ô–¢–ï** —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –≤ `vercel.json`
4. –ü–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ canonical URL - –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–π—Ç–µ –∏ –¥–µ–ø–ª–æ–π—Ç–µ —Å–∞–π—Ç

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—á–µ—Ä–µ–∑ 1-2 –Ω–µ–¥–µ–ª–∏)

- ‚úÖ –ò—Å—á–µ–∑–Ω–µ—Ç –º–µ—Ç–∫–∞ "Canonicalised" –≤ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä
- ‚úÖ –£–ª—É—á—à–∏—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –ù–µ –±—É–¥–µ—Ç –¥—É–±–ª–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ Canonical URL –±—É–¥—É—Ç –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω
- ‚úÖ –£–ª—É—á—à–∏—Ç—Å—è SEO-–ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –∏—Å—á–µ–∑–ª–∞

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à Vercel
3. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –≤ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ robots.txt: `https://bookscalculator.ru/robots.txt`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ sitemap: `https://bookscalculator.ru/sitemap-index.xml`

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-11-01
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é
