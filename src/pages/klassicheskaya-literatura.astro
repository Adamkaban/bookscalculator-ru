---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import SimpleFooter from '../components/SimpleFooter.astro';
import SEOHead from '../components/SEOHead.astro';
import CTABanner from '../components/CTABanner.astro';
import QuoteBlock from '../components/QuoteBlock.astro';
import { getAllBooks, getBookUrl, formatReadingTime, getDifficultyLevel } from '../utils/bookData.js';

const books = getAllBooks();
const totalBooks = books.length;
const totalPages = books.reduce((sum, book) => sum + book.basic_info.pages, 0);
const avgReadingTime = books.reduce((sum, book) => {
  const timeStr = book.basic_info.reading_time;
  const hours = parseInt(timeStr.match(/(\d+)/)?.[1] || '0');
  return sum + hours;
}, 0) / books.length;
---

<BaseLayout>
  <SEOHead
    title="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ ‚Äî –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è –∫–Ω–∏–≥, –∞–Ω–∞–ª–∏–∑ –∏ —Å–æ–≤–µ—Ç—ã"
    description="–ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã —Å —Ä–∞—Å—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á—Ç–µ–Ω–∏—è. –£–∑–Ω–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É–π–¥–µ—Ç –Ω–∞ —á—Ç–µ–Ω–∏–µ –í–æ–π–Ω—ã –∏ –º–∏—Ä–∞, –ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏—è, –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π"
    keywords="–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è, —Å–∫–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å –≤–æ–π–Ω—É –∏ –º–∏—Ä, –∞–Ω–∞–ª–∏–∑ –∫–ª–∞—Å—Å–∏–∫–∏, —Ä—É—Å—Å–∫–∏–µ –∫–ª–∞—Å—Å–∏–∫–∏ —Å–ø–∏—Å–æ–∫, –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è —Ç–æ–ª—Å—Ç–æ–≥–æ –¥–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ"
  />

  <style>
    /* –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
    h2 {
      background: #f8fafc !important;
      border-bottom: 4px solid #3b82f6 !important;
      padding: 1rem !important;
      margin: 2rem 0 1rem 0 !important;
      border-radius: 8px 8px 0 0 !important;
      font-weight: 700 !important;
    }

    h3 {
      background: #f1f5f9 !important;
      border-left: 4px solid #3b82f6 !important;
      padding: 0.75rem !important;
      margin: 1.5rem 0 1rem 0 !important;
      border-radius: 0 8px 8px 0 !important;
      font-weight: 600 !important;
    }

    /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
    @media (max-width: 768px) {
      h2 {
        font-size: 1.25rem !important;
        padding: 0.75rem !important;
      }

      h3 {
        font-size: 1.125rem !important;
        padding: 0.5rem !important;
      }
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–Ω–∏–≥ */
    .book-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .book-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      transition: transform 0.2s ease;
    }

    .stat-card:hover {
      transform: translateY(-2px);
    }
  </style>

  <Header />

  <main>
    <div class="min-h-screen bg-white">
      <!-- Hero —Å–µ–∫—Ü–∏—è -->
      <section class="bg-gradient-to-br from-slate-50 to-blue-50 py-16">
        <div class="container mx-auto px-4">
          <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-6">
              –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞
            </h1>
            <p class="text-xl text-slate-600 mb-8">
              –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –∫–ª–∞—Å—Å–∏–∫–æ–≤ —Å —Ä–∞—Å—á–µ—Ç–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏ —á—Ç–µ–Ω–∏—è
            </p>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto">
              <div class="stat-card bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-4 text-white text-center">
                <div class="text-2xl font-bold">{totalBooks}</div>
                <div class="text-sm opacity-90">–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π</div>
              </div>
              <div class="stat-card bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 text-white text-center">
                <div class="text-2xl font-bold">{totalPages}</div>
                <div class="text-sm opacity-90">—Å—Ç—Ä–∞–Ω–∏—Ü</div>
              </div>
              <div class="stat-card bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-4 text-white text-center">
                <div class="text-2xl font-bold">{Math.round(avgReadingTime)}</div>
                <div class="text-sm opacity-90">—á–∞—Å–æ–≤ –≤ —Å—Ä–µ–¥–Ω–µ–º</div>
              </div>
              <div class="stat-card bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-4 text-white text-center">
                <div class="text-2xl font-bold">XIX-XX</div>
                <div class="text-sm opacity-90">–≤–µ–∫–∞</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
      <section class="py-16">
        <div class="container mx-auto px-4">
          <div class="max-w-6xl mx-auto">

            <!-- –í–≤–µ–¥–µ–Ω–∏–µ -->
            <div class="prose prose-lg prose-slate max-w-none mb-12">
              <h2>–ó–∞—á–µ–º –∏–∑—É—á–∞—Ç—å –∫–ª–∞—Å—Å–∏–∫—É?</h2>
              <p>
                –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ - —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ, –Ω–æ –∏ –≥–ª—É–±–æ–∫–∏–π
                –∏—Å—Ç–æ—á–Ω–∏–∫ –º—É–¥—Ä–æ—Å—Ç–∏, –ø–æ–º–æ–≥–∞—é—â–∏–π –ø–æ–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏
                –≤–µ—á–Ω—ã–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏. –ö–∞–∂–¥–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ - —ç—Ç–æ –æ–∫–Ω–æ –≤ —ç–ø–æ—Ö—É,
                –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö –∏—Å–∫–∞–Ω–∏–π.
              </p>
            </div>

            <!-- –°–µ—Ç–∫–∞ –∫–Ω–∏–≥ -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
              {books.map((book) => {
                const difficulty = getDifficultyLevel(book);
                return (
                  <a href={getBookUrl(book)} class="block group">
                    <div class="book-card bg-white border border-slate-200 rounded-xl p-6 h-full hover:border-blue-300">
                      <div class="flex items-start justify-between mb-4">
                        <div>
                          <h3 class="text-xl font-bold text-slate-900 group-hover:text-blue-600 transition-colors mb-2">
                            {book.title}
                          </h3>
                          <p class="text-slate-600 mb-3">{book.author}</p>
                        </div>
                        <span class="difficulty-badge difficulty-{difficulty.color}">
                          {difficulty.icon} {difficulty.label}
                        </span>
                      </div>

                      <div class="space-y-3 mb-4">
                        <div class="flex justify-between items-center text-sm">
                          <span class="text-slate-600">üìñ –°—Ç—Ä–∞–Ω–∏—Ü:</span>
                          <span class="font-semibold text-slate-900">{book.basic_info.pages}</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                          <span class="text-slate-600">‚è∞ –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è:</span>
                          <span class="font-semibold text-slate-900">{book.basic_info.reading_time}</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                          <span class="text-slate-600">üìÖ –î–Ω–µ–π –Ω–∞ —á—Ç–µ–Ω–∏–µ:</span>
                          <span class="font-semibold text-slate-900">{book.basic_info.reading_days}</span>
                        </div>
                      </div>

                      <div class="text-sm text-slate-600 mb-4">
                        <strong>–ñ–∞–Ω—Ä:</strong> {book.basic_info.genre}
                      </div>

                      <div class="text-sm text-slate-500 line-clamp-3">
                        {book.interesting_facts[0]}
                      </div>
                    </div>
                  </a>
                );
              })}
            </div>

            <!-- CTA-–ø–ª–∞—à–∫–∞ -->
            <CTABanner />

            <!-- –°–æ–≤–µ—Ç—ã –ø–æ —á—Ç–µ–Ω–∏—é –∫–ª–∞—Å—Å–∏–∫–∏ -->
            <div class="prose prose-lg prose-slate max-w-none">
              <h2>–ö–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —á–∏—Ç–∞—Ç—å –∫–ª–∞—Å—Å–∏–∫—É</h2>

              <div class="grid md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white border border-slate-200 rounded-lg p-6 text-center">
                  <div class="text-3xl mb-3">üìö</div>
                  <h3 class="text-lg font-semibold text-slate-900 mb-3">–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Ç–µ–º–ø</h3>
                  <p class="text-slate-600 text-sm">
                    –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É. –ù–∞—á–Ω–∏—Ç–µ —Å 20-30 —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –¥–µ–Ω—å,
                    —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
                  </p>
                </div>

                <div class="bg-white border border-slate-200 rounded-lg p-6 text-center">
                  <div class="text-3xl mb-3">üîç</div>
                  <h3 class="text-lg font-semibold text-slate-900 mb-3">–ò–∑—É—á–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                  <p class="text-slate-600 text-sm">
                    –ü–µ—Ä–µ–¥ —á—Ç–µ–Ω–∏–µ–º —É–∑–Ω–∞–π—Ç–µ –æ–± –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —ç–ø–æ—Ö–µ –∏ –±–∏–æ–≥—Ä–∞—Ñ–∏–∏ –∞–≤—Ç–æ—Ä–∞.
                    –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –º–æ—Ç–∏–≤—ã –≥–µ—Ä–æ–µ–≤ –∏ –∑–∞–º—ã—Å–µ–ª –ø–∏—Å–∞—Ç–µ–ª—è.
                  </p>
                </div>

                <div class="bg-white border border-slate-200 rounded-lg p-6 text-center">
                  <div class="text-3xl mb-3">‚úçÔ∏è</div>
                  <h3 class="text-lg font-semibold text-slate-900 mb-3">–í–µ–¥–∏—Ç–µ –∑–∞–º–µ—Ç–∫–∏</h3>
                  <p class="text-slate-600 text-sm">
                    –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –º—ã—Å–ª–∏, —Ü–∏—Ç–∞—Ç—ã –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≥–ª—É–±–∂–µ
                    –æ—Å–º—ã—Å–ª–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ –∏ –∑–∞–ø–æ–º–Ω–∏—Ç—å –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.
                  </p>
                </div>
              </div>

              <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ —á—Ç–µ–Ω–∏–∏ –∫–ª–∞—Å—Å–∏–∫–∏</h2>

              <div class="space-y-6">
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg">
                  <h3 class="text-yellow-800 font-semibold mb-3">–°–ª–æ–∂–Ω–æ –ª–∏ —á–∏—Ç–∞—Ç—å –∫–ª–∞—Å—Å–∏–∫—É?</h3>
                  <p class="text-yellow-700">
                    –ú–Ω–æ–≥–∏–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, –Ω–æ –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—á–µ—Ç–∞
                    –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–º–æ–∂–µ—Ç —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —á—Ç–µ–Ω–∏–µ –≤ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–º —Ç–µ–º–ø–µ. –ù–∞—á–Ω–∏—Ç–µ —Å –±–æ–ª–µ–µ
                    –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–æ–∂–Ω—ã–º.
                  </p>
                </div>

                <div class="bg-blue-50 border-l-4 border-blue-400 p-6 rounded-r-lg">
                  <h3 class="text-blue-800 font-semibold mb-3">–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–Ω–æ –Ω–∞ –æ–¥–Ω—É –∫–Ω–∏–≥—É?</h3>
                  <p class="text-blue-700">
                    –í —Å—Ä–µ–¥–Ω–µ–º –æ—Ç 2-3 —á–∞—Å–æ–≤ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –¥–æ 30-40 —á–∞—Å–æ–≤ –¥–ª—è –æ–±—ä–µ–º–Ω—ã—Ö
                    —Ä–æ–º–∞–Ω–æ–≤. –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Å–≤–æ–π —Ç–µ–º–ø —á—Ç–µ–Ω–∏—è –∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≥—Ä–∞—Ñ–∏–∫.
                  </p>
                </div>

                <div class="bg-green-50 border-l-4 border-green-400 p-6 rounded-r-lg">
                  <h3 class="text-green-800 font-semibold mb-3">–í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ —á–∏—Ç–∞—Ç—å?</h3>
                  <p class="text-green-700">
                    –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ª—é–±–æ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—á–∏—Ç—ã–≤–∞—Ç—å —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—é
                    —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–≤—è–∑—å. –ù–∞—à–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º
                    –ø–æ–º–æ–≥—É—Ç —Å–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- –¶–∏—Ç–∞—Ç–∞ –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <QuoteBlock />

  <SimpleFooter />
</BaseLayout>